schema_version: 1
id: %extensionId%
name: %extensionName%
version: %extensionVersion%
description: %extensionDescription%
summary: %extensionDescription%
store_presence:
  images:
    logo: assets/own3d.svg
compatibilities:
  config:
    path: config.html
  browser-source:
    path: browser-source.html
    forms:
      config_button: standalone
      inputs:
        - id: tabs
          tabs:
            - label: Event
              fields:
                - id: event
                  type: dropdown
                  options:
                    - if: "values.platforms?.some((s) => ['twitch', 'kick'].includes(s)) && !values.platforms?.includes('youtube')"
                      label: Follow
                      value: follow
                    - if: "!values.platforms?.some((s) => ['twitch', 'kick'].includes(s)) && values.platforms?.includes('youtube')"
                      label: Subscriber
                      value: follow
                    - if: "values.platforms?.some((s) => ['twitch', 'kick'].includes(s)) && values.platforms?.includes('youtube')"
                      label: Follow/Subscriber
                      value: follow
                    - if: "values.platforms?.some((s) => ['twitch', 'kick'].includes(s)) && !values.platforms?.includes('youtube')"
                      label: Subscribe
                      value: subscribe
                    - if: "!values.platforms?.some((s) => ['twitch', 'kick'].includes(s)) && values.platforms?.includes('youtube')"
                      label: Memberships
                      value: subscribe
                    - if: "values.platforms?.some((s) => ['twitch', 'kick'].includes(s)) && values.platforms?.includes('youtube')"
                      label: Subscribe/Memberships
                      value: subscribe
                    - if: "values.platforms?.includes('twitch')"
                      label: Cheer
                      value: cheer
                    - if: "values.platforms?.includes('own3d')"
                      label: Donation
                      value: donation
                  attributes:
                    label: Event
                    value: follow
                - id: platforms
                  type: platforms
                  options:
                    - value: twitch
                    - value: youtube
                    - value: kick
                    - value: own3d
                  attributes:
                    label: Platforms
                    value:
                      - twitch
                    multiple: true
                - id: goal-target
                  type: input
                  attributes:
                    min: 1
                    step: 1
                    type: number
                    label: 'Goal target'
                    value: 100
                - id: goal-start
                  type: input
                  attributes:
                    min: 0
                    type: number
                    label: 'Goal start amount'
                    value:
                      value: 0
                      toggled: false
                    optional: true
                - id: goal-start-date
                  type: input
                  attributes:
                    type: datetime-local
                    label: 'Goal start date'
                    value:
                      value: ''
                      toggled: false
                    optional: true
                - id: goal-end-date
                  type: input
                  attributes:
                    type: datetime-local
                    label: 'Goal end date'
                    value:
                      value: ''
                      toggled: false
                    optional: true
            - label: Fill
              fields:
                - id: fill-color
                  type: color
                  attributes:
                    label: Color
                    value: %filLColor% # '#FFFFFF'
                    allow-gradient: true
                - id: particles
                  type: boolean
                  attributes:
                    label: Particles
                    value: true
                    description: 'Toggle visual particles effects in the filling'
                - id: fill-glow
                  type: group
                  fields:
                    - id: fill-glow-color
                      type: color
                      attributes:
                        label: 'Glow color'
                        value: %fillGlowColor% # transparent
                    - id: fill-glow-intensity
                      type: slider
                      attributes:
                        max: 100
                        min: 0
                        step: 1
                        label: 'Glow intensity'
                        value: 0
                  attributes:
                    separator: false
            - label: Image
              fields:
                - id: foreground-color
                  if: '[].includes(values.style)'
                  type: color
                  attributes:
                    label: Color
                    value: %foregroundColor% #'#FFFFFF'
                - id: foreground-glow
                  type: group
                  fields:
                    - id: foreground-glow-color
                      type: color
                      attributes:
                        label: 'Glow color'
                        value: %foregroundGlowColor% # transparent
                    - id: foreground-glow-intensity
                      type: slider
                      attributes:
                        max: 100
                        min: 0
                        step: 1
                        label: 'Glow intensity'
                        value: 0
                  attributes:
                    separator: false
                - id: event-animation
                  if: '[].includes(values.style)'
                  type: boolean
                  attributes:
                    label: 'Event Animation'
                    value: true
                    description: 'Triggers a small animation everytime the progress rises'
            - label: Title
              fields:
                - id: title
                  type: input
                  attributes:
                    type: text
                    label: Title
                    value:
                      value: 'My Goalbar'
                      toggled: true
                    optional: true
                - id: title-font
                  type: font-settings
                  attributes:
                    label: Style
                    value: # see what we can customize on the form
                      font-size: 14
                      font-color: '#FFFFFF'
                      font-style: normal
                      text-align: center
                      font-family: Inter
                      font-weight: 400
                      line-height: 1.2
                      text-indent: 0
                      letter-spacing: 0
                - id: title-glow
                  type: group
                  fields:
                    - id: title-glow-color
                      type: color
                      attributes:
                        label: 'Glow Color'
                        value: %fontGlowColor% # transparent
                    - id: title-glow-intensity
                      type: slider
                      attributes:
                        max: 100
                        min: 0
                        step: 1
                        label: 'Glow intensity'
                        value: 0
                  attributes:
                    separator: false
            - label: Goal
              fields:
                - id: target-font
                  type: font-settings
                  attributes:
                    label: Style
                    value:
                      font-size: 14
                      font-color: '#FFFFFF'
                      font-style: normal
                      text-align: center
                      font-family: Inter
                      font-weight: 400
                      line-height: 1.2
                      text-indent: 0
                      letter-spacing: 0
                - id: target-glow
                  type: group
                  fields:
                    - id: target-glow-color
                      type: color
                      attributes:
                        label: 'Glow color'
                        value: %fontGlowColor% # transparent
                    - id: target-glow-intensity
                      type: slider
                      attributes:
                        max: 100
                        min: 0
                        step: 1
                        label: 'Glow intensity'
                        value: 0
                  attributes:
                    separator: false
                - id: target-prefix
                  type: input
                  attributes:
                    type: text
                    label: Prefix
                    value:
                      value: ''
                      toggled: false
                    optional: true
                - id: target-suffix
                  type: input
                  attributes:
                    type: text
                    label: Suffix
                    value:
                      value: ''
                      toggled: false
                    optional: true
            - if: "(values['goal-start-date']?.toggled && values['goal-start-date']?.value) || (values['goal-end-date']?.toggled && values['goal-end-date']?.value)"
              label: Dates
              fields:
                - id: dates-start-toggles
                  if: "values['goal-start-date']?.toggled && values['goal-start-date']?.value"
                  type: group
                  fields:
                    - id: dates-start-show
                      type: boolean
                      attributes:
                        label: 'Show Start Date'
                        value: true
                    - id: dates-start-time-show
                      type: boolean
                      attributes:
                        label: 'Show Start Time'
                        value: true
                  attributes: []
                - id: dates-end-toggles
                  if: "values['goal-end-date']?.toggled && values['goal-end-date']?.value"
                  type: group
                  fields:
                    - id: dates-end-show
                      type: boolean
                      attributes:
                        label: 'Show End Date'
                        value: true
                    - id: dates-end-time-show
                      type: boolean
                      attributes:
                        label: 'Show End Time'
                        value: true
                  attributes: []
                - id: dates-separator
                  type: input
                  attributes:
                    type: text
                    label: 'Dates Separator'
                    value: '-'
                - id: dates-font
                  type: font-settings
                  attributes:
                    label: Style
                    value:
                      font-size: 14
                      font-color: '#FFFFFF'
                      font-style: normal
                      text-align: center
                      font-family: Inter
                      font-weight: 400
                      line-height: 1.2
                      text-indent: 0
                      letter-spacing: 0
                - id: dates-glow
                  type: group
                  fields:
                    - id: dates-glow-color
                      type: color
                      attributes:
                        label: 'Glow color'
                        value: %fontGlowColor% # transparent
                    - id: dates-glow-intensity
                      type: slider
                      attributes:
                        max: 100
                        min: 0
                        step: 1
                        label: 'Glow intensity'
                        value: 0
                  attributes:
                    separator: false
          type: tabs
